
## 기능목록

- [x] 컴퓨터는 게임이 시작하면 1~9까지 서로 다른 임의의 수 3개를 정한다.
  - [x] 컴퓨터는 주입받은 숫자 생성 정책과 중복 허용 정책 / 숫자의 자리수를 바탕으로 숫자를 생성한다.

- [x] 사용자는 서로 다른 3자리의 숫자를 입력한다.
  - [x] 입력이 숫자가 아닐 경우 예외 처리
  - [x] 입력이 3자리가 아닐 경우 예외 처리
  - [x] 입력이 음수일 경우 예외 처리
  - [x] 입력이 1~9가 아닐 경우 (0이 있을 경우) 예외 처리
  - [x] 입력이 서로 다른 수가 아닐 경우 예외 처리

- [x] 사용자의 입력값과 컴퓨터가 게임 시작 시 생성한 랜덤 수를 비교하여 결과를 출력한다.
    - 메세지 출력은 view에서, input과 랜덤 수 비교해 결과 계산은 Computer에서 진행한다
    - [x] **3자리의 숫자가 모두 일치**하는 경우, -> 일치 여부는 Computer에서 진행
      - [x] 아래 메세지를 출력한다 -> output
        ```text
        3스트라이크
        3개의 숫자를 모두 맞히셨습니다! 게임 종료
         ```
      - [x] 게임을 새로 시작할것인지 종료할것인지 입력받는다. -> input 
        - [x] 1,2가 아닌 다른 값이 입력되면 예외 처리 -> GameCommand
        - [x] 사용자가 1을 입력하면 게임을 새로 시작한다.
        - [x] 사용자가 2를 입력하면 게임을 종료한다.
          ```text
          게임을 새로 시작하려면 1, 종료하려면 2를 입력하세요.
          ```
          
- **사용자의 입력값과 컴퓨터가 게임 시작 시 생성한 랜덤 수가 모두 일치하지 않는 경우,**
  - 메세지 출력은 view에서, input과 랜덤 수 비교해 결과 계산은 Computer에서 진행한다
  - [x] 같은 수가 같은 자리에 있으면 스트라이크 수를 증가시킨다. -> Computer에서 진행
  - [x] 같은 수가 같은 자리에 있지 않고 다른 자리에 있으면 볼 수를 증가시킨다. -> computer에서 진행
  - [x] 아래와 같은 형식으로 출력한다. -> output
    ```text
    x볼 x스트라이크
    ```
  - [x] 볼과 스트라이크가 모두 0이면 아래와 같은 출력값을 출력한다. -> output
    ```text
    낫싱
    ```

### refactoring
- [x] Computer를 NumberBaseBallComputer로 변경하자 -> 추상클래스로 Computer를 만들자 (Computer의 확장성을 위해)
- [x] policy를 합쳐서 Rule을 만들자 -> 파라미터 개수 줄일 수 있고 Rule을 의존성으로 가지고 있는게 맞을듯
- [x] Input과 Output을 합쳐서 Console을 만들자 -> Input과 Output을 처리하는 하나의 곳으로 묶자


## 전체적인 구조

**View**
- Output -> 결과를 출력하는 역할
  - 게임 시작 메세지를 출력해야 한다.
  - 게임 결과를 출력해야 한다.
  - 게임 재시작 메세지를 출력해야 한다.

- Input -> 사용자의 input을 입력받는 역할
  - 사용자의 input을 입력받아야 한다.
  - 사용자의 input을 검증해야 한다. (DTO 검증 + 도메인 객체 안 검증 double check)

**Controller**
- BaseBallGame
  - 게임을 실행해야 한다.
  - 도메인과 view를 연결하는 역할을 통해 게임을 진행한다.
  - 컴퓨터의 숫자와 입력값(User)을 비교 해야 한다

- GameCommand
  - 게임 명령에 대한 역할을 가진다.
  - 잘못된 명령이 들어오면 예외 처리한다.

**Domain**
- Computer (정책에 따른 숫자 생성 역할 및 결과 비교)
  - (값)**숫자 생성 방식의 정책**을 주입받아야 한다. (랜덤으로 생성할 것인지, 특정 수를 생성 할 것인지) 
  - (값) 얼마 만큼의 수(몇자리)를 생성할 것인지를 주입 받아야 한다.
  - (값) **중복을 허용할 것인지, 각 자리가 중복을 허용하지 않을 것인지에 대한 정책을 주입 받아야 한다.**
  - (값) 위 정책들을 바탕으로 생성된 숫자를 가지고 있어야 한다.
  - (값) strike, ball 결과를 가지고 있어야 한다.
  - (행위) 사용자가 컴퓨터에게 값을 넘기면 strike, ball 결과를 계산해야 한다.

- User
  - (값) 사용자가 입력한 값을 가지고 있어야 한다.
  - (행위) 사용자가 입력한 값이 유효한 값인지 검증해야 한다.


**Policy**
 - NumberGeneratorPolicy (숫자 생성 정책)
   - 1~9 범위의 수를 생성하는 정책을 가진다.
 - DuplicateAllowancePolicy (중복 허용 정책)
   - 중복을 허용하는 정책을 가진다.
 - NumberDigitPolicy (숫자 자리수 정책)
   - 몇 자리의 숫자를 생성할 것인지 정책을 가진다.

## 개선사항
- mvc 패턴으로 어댑터 핸들러, dispatcher servlet, dto 까지 과정을 분리시키기? -> 너무 오버 엔지니어링..?
