# 구현 - 숫자야구

---

보자마자 간단하게 flow 생각하기
1. 컴퓨터가 가지고 있을 랜덤한 수 생성
2. 입력
3. 스트라이크와 볼 판정
4. 출력
5. 정답 여부 확인 후 반복 여부 결정

---

### 0. 게임 시작 출력

- 출력 명세에 게임 시작을 알리는 부분을 출력하는 부분이 있으므로 출력

### 1. 컴퓨터가 가지고 있을 랜덤한 수 생성

- 프로그래밍 요구 사항에 나와 있는 사용 예시처럼 서로 다른 임의의 수 3개를 고르는 코드를 작성
- 우리가 추후에 스트라이크, 볼을 판정할 때 사용할 정보는 "숫자의 등장 여부" 와 "숫자의 등장 위치"
- 그래서 배열에 n번째 숫자가 k 라는 것을 저장하기 위해 arr[n] = k 와 같이 저장

### 2. 입력 - 유효성 검사

- 사용자에게 입력을 받는데, 입력 값에 조건에는 3가지가 있음
- 첫째, 길이가 3이어야 함
- 둘째, digit [1-9]로 이루어져야 함
- 셋째, 3자리 모두 달라야 함
- 위의 조건 3가지를 모두 만족하는 입력에 대해서만 다음 단계를 진행
- 달성하지 못했다면, IllegalArgumentException을 발생 시킨후 어플리케이션 종료

### 2-1. 입력 && 스트라이크와 볼 판정

- 입력을 받는 것과 동시에 스트라이크와 볼 판정을 할 수 있을 것이라 생각 및 더 빠를 것이라고 판단
- 3번 도는 loop을 활용
- 현재 확인하고 있는 칸의 index를 idx라 정의, 현재 확인하고 있는 칸의 숫자를 num이라 정의
- arr[num]이 0이 아니라면, 무조건 볼 혹은 스트라이크라고 판정 가능
- 그 상황에서 arr[num]이 idx와 같아면 strike, 다르면 ball로 판정

### 3. 출력

- 구한 답을 과제 명세에 맞추어서 출력해준다.

### 4. 정답 여부 확인 후 반복 여부 결정

- 3 스트라이크라면, 정답으로 판정. 게임을 종료하는 멘트를 출력 후 사용자에게 계속 게임을 할 것인지 입력 받음
- 입력에 1이 들어오면 1번 부터 다시 실행. arr을 0으로 다시 초기화함
- 입력에 2가 들어오면 완전히 종료
- 입력에 1 이나 2가 아닌 다른 입력이 들어오게 될 경우 IllegalArgumentException을 발생 시킨후 어플리케이션 종료

---

기능 구현 이후 리뷰

1. 전체적인 큰 scope가 두 개가 있어야 했다. [게임] 이라는 scope 안에 [게임 진행] 이라는 스코프가 있는 느낌
- [게임] scope 안에서는 숫자 야구에 관련된 기본 정보를 정의한다. 랜덤 숫자가 그것에 해당한다.
- [게임 진행] scope 안에서는 [게임] scope에서 만든 기본 정보를 맞추어 나가는 과정이다.
- [게임] 과 [게임 진행] 모두 상황에 따라 여러번 반복되어야 하므로 반복문으로 구성했다.
- 이 구조를 위해서 4번 과정에서 1과 2 뿐만 아니라 0번 과정인 "게임 중"을 추가했다.

2. 입력과 스트라이크 볼 판정은 동시에 진행할 수 없다. 순서로 나누어야 했다.
- 과제를 진행하기 위해 명세를 읽어보니 readline() 이라는 함수를 사용해야 했고, 이 함수는 숫자 3개를 한꺼번에 받기 때문이다.
- 그래서 (숫자 입력) -> (입력 유효성 검사) -> (볼 스트라이크 판정) 순으로 코드 flow를 구성했다.

3. 컴퓨터가 만든 랜덤한 수를 저장할 때 초기화를 -1로 하고 index를 0부터 시작했다.
- 나중에 사용자의 입력을 컴퓨터의 입력과 비교 할 때, 사용자의 입력이 string이라 index를 맞추기 위함이었다.
- 이렇게 하는 것이 조금 더 직관적이라고 생각하여 바꾸었다.