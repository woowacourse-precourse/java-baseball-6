# 기능 계획서 및 설계도

## 1. 설계시 필요한 전반적인 내용
기능 구현전 설계에 필요한 내용에 대해 고민 해보았다.
1. 서비스 설계도는 어떻게 구현하는가?
    - 게임의 흐름에 맞게 플로우 차트로 설계도를 구상하고 필요한 기능을 찾는 과정이 필요하다고 느꼈다.


2. 패키지 분류에 필요한 것은?

   - MVC패턴를 사용하면 사용자 인터페이스와 데이터, 비즈니스 로직을 독립적으로 기능 구현을 할 수 있을 것 같아 이를 활용하여 기능들을 분리할 필요를 느꼈다.
   - MVC패턴을 다시 공부하면서 다음과 같은 특징에 초점을 맞추어 구현하기로 하였다.
   1) 모델과 뷰는 자기 자신 이외의 다른 구성요소들을 참조하지 않는다.
   2) 컨트롤러는 데이터와 사용자 인터페이스 간의 중간다리 역할을 한다.
   3) 모델과 뷰는 변경과 관련하여 컨트롤러에 통지를 하며, 컨트롤러는 이를 처리하여 다른 구성요소로 해당 내용을 반영한다.
   

3. 더 나은 코드를 위한 사소한 팁
   - 자바 클래스 및 함수명의 보편적인 명명규칙에 맞추어 구현한다.
   - 자바 코드 컨벤션 가이드를 준수한다. 

4. Constants 상수 처리에 대하여
   - 기능 구현 중 view에 들어갈 상수들에 대하여 따로 분류하여 클래스 또는 인터페이스로 구현할 필요성을 느꼈다.
   - Constants를 interface로 구현하려고 공부하던 중 Constants interface를 implements 하여 클래스에서 사용하게 된다면 안티 패턴이 될 수 있다는 점을 알게 되었다.
   - implements하는 과정에서 모든 상수들을 다 가져오고, 해당 클래스의 일관성을 해칠 수 있으며, 구현한 클래스의 하위클래스로 내려가므로 오염될 가능성이 판단되었다.
   - final class를 만들어 상속을 막고 private 생성자를 만들어 객체생성을 막기 위한 클래스를 사용하여 import static을 사용하여 구현하기로 결정하였다.

## 2.기능 정리 및 구체화
***
#### 2-1) 어떤 기능이 필요할지 게임의 흐름에 따라 큰 블록으로 나누어 구상해 보았다.
    
    1. 랜덤한 숫자 생성 - 게임 시작시 임의의 3자리수 생성(1부터 9까지, 서로 다른 수로 구성)
    2. 사용자 입력에 해당하는 기능
    3. 사용자의 입력값과 정답 숫자를 서로 비교하는 기능
    4. 입력값에 대한 예외를 처리하는 기능 
    5. 결과 값을 출력해주는 기능
    6. 게임종료 기능 및 반복 기능

#### 2-2) MVC패턴을 이용하여 다음과 같이 해당 기능들을 구체화 하였다.
## 1. Controller

### GameManger

   게임의 전체적인 흐름을 통제한다.
   다른 클래스에서 함수와 데이터를 불러와 게임의 전체전인 진행을 수헹.
   - 사용자 입력 ~ 결과출력 기능 반복
   - 게임의 시작 ~ 게임의 종료 반₩
   
### Computer
   - 3가지의 랜덤한 임의의 수를 만든다.✅
   1. setTargetNumber()
   2. pickNumberInRange()

### User
   - 사용자의 정답 입력을 수행한다.✅
   - 사용자의 게임 재시행 여부 입력을 수행한다.
   - 입력수행 후 예외처리 클래스를 호출한다.✅ 
   1. readUserNumberInput()
   2. readUserPauseOrResumeInput()
   3. readLine() 

### Judgement
   - 사용자의 입력과 컴퓨터의 숫자와 비교한다.✅
   - 비교된 값을 통해 스트라이크, 볼, 낫싱, 정답여부를 판단한다.✅
   1. compareNumbers()

### InputException
   사용자의 입력시 올바르지 않은 입력에 대한 판단을 진행한다.
   정규표현식을 사용하여 처리한다.

   - 동일한 숫자가 입력되는 경우 ✅
   - 3가지 숫자의 범위가 1~9 사이를 벗어나는 경우 ✅
   - 숫자의 길이가 3이 아닌 경우 ✅
   - 숫자가 아닌 글자 또는 기호가 입력되는 경우 ✅
   - ctrl 조합키가 입력되는 경우 - 키보드 이벤트로 처리한다.

## 2. View

### UserView

   사용자가 입력하는 프롬포트를 구성하는 view 역할을 한다.

   - 게임의 시작을 알려준다.✅
   - 숫자입력 명령문을 출력한다.✅
   - 입력된 값의 결과를 알려준다.✅
   - 게임 재시작 여부를 질문한다.✅

   1. printGameStartMessage()✅
   2. printNumberInputPrompt()✅
   3. printResultOfJudgement()✅
   4. printResumeInputPrompt()✅

## 3. Model
   
   숫자값에 해당하는 DTO를 생성하여 구성요소들 사이의 데이터 전달 매개체를 생성한다.
   
### UserNumberDto
   - 사용자가 입력한 3가지 숫자 값이 저장되고 반환된다.✅

### ComputerNumberDto
   - 컴퓨터에서 랜덤으로 생성된 3가지 숫자 값이 저장되고 반환된다.✅

### GameResultDto
   - 컴퓨터와 사용자의 숫자를 비교한 결과 값인 스트라이크, 볼의 개수 값이 저장되고 반환된다.✅

## 4. Utility

### Constants
   - 게임 시작 구문, 입력문 메시지, 결과문, 게임 재시동 프롬포트 메시지 등 게임실행에 반복적으로 등장하는 문장을 Constants 클래스에 상수로 선언한다.✅