# 야구게임

1. 어떤 기능들이 있는가 (생성,유효성은 꼭 포함시키자! 나머지는 crud)
2. 어떤 규칙으로 이루어 져있는가(규칙은 기능이 작게 잘라지게 해준다.)
4. 이후 기능과 규칙 그리고 진행에 필요한 구성요소(데이터)는 어떤것이 나타낼까고민해야한다.

여기서 중요한점 객체의 의인화를 생각해야된다. 객체는 모두 수동에서 능동으로 바뀐다.
수동적인 사물이나 개념이라 해서 사람을 꼭 거쳐야할 필요는 없다!
또한 값을 꺼내서 진행하지말고 메시지를 보내자자

너무 기능명세서를 완벽하게 쓰지 않아도 괜찮다. :)  
코드를 작성하다보면 새로운 기능이 떠오를 것이고, 그때 천천히 기능명세서를 수정하는 것이 좋다!

이제 우리가 작성한 기능명세서를 기반으로 코드를 `구현 => 커밋 => 기능명세서 수정`을 진행해보자. (기능명세서를 수정하는 것에 두려워하지 말자!)

# 게임 진행 흐름

1. 게임이 시작되며 초기화 된다.
    1. 1에서 9까지의 서로다른 임의 의 수 3개를 생성한다.
2. 게임이 진행된다.  do while
    1. 숫자 야구 게임 시작 메시지 출력
    2. 숫자를 입력해주세요 출력 후 입력창
    2. 숫자들을 생성한다.
        1. 숫자들은 3의 길이를 가져야한다.
        2. 숫자들은 서로 다른 값을 가지고 있어야한다.
        3. 각각의 숫자는 1~9의 값을 가져야한다.
    3.  추측한 숫자 3가지 중 한가지와  미리 생성되어있는 값을 비교하여 결과 생성
        1. 같은 숫자 같은 자리 strike
        2. 같은 숫자 다른 자리 ball
    4. 결과를 확인하여 게임상태를 변경시킨다.
        1. 3STRIKE라면 게임 END
    5. 결과 출력
1. 게임 재시작,종료를 확인한다.(게임 진행(플레이)이 끝났다는 뜻)
    1. `3개의 숫자를 모두 맞히셨습니다! 게임 종료` 출력
    2. `게임을 새로 시작하려면 1, 종료하려면 2를 입력하세요.` 출력
    3. 플레이어는 커맨드를 입력한다.
    4. 커맨드를 생성한다.
        1. 커맨드는 1,2의 값을 가지고 있어야한다. 이외 예외 발생
    5. 게임은 값을 가져가 확인하고 게임 상태를 바꾼다.
    6. 게임 상태를 확인한다.
        1. 게임 상태가 돌아가고 있다면
            1. 초기화
            2. 게임 진행
        2. 진행 중이 아니라면 그대로 종료한다.


어떤 기능과 규칙이 있나요?
1. 게임 초기화 기능
    1. 숫자들을 생성한다.(1에서 9까지의 서로다른 임의 의 수 3개를 가지고 있는다.)
    2. 게임상태를 시작으로 변경한다.
2. 숫자들 생성 기능 (매개변수 List<숫자> 형태)
    1. 숫자들은 3의 길이를 가져야한다.
    2. 숫자들은 서로 다른 값을 가지고 있어야한다.
    3. 각각의 숫자는 1~9의 값을 가져야한다.
3. 추측 숫자와 생성된 숫자 비교하는 기능
    1. 스트라이크인지 확인하는 기능
    2. 볼인지 확인하는 기능
4. 커맨드 생성하는 기능
5. 게임 상태 변경하는 기능(커맨드)
6. 게임 상태 확인하는 기능

어떤 데이터가 필요한가요?
1. 숫자
2. 숫자들
3. 위치
6. 게임 상태
    1. run
    2. stop
7. 게임 커맨드
    1. restart
    2. stop
8. 게임 결과
    1. strike
    2. ball


# 객체 설계

## 도메인

### Computer
1. 컴퓨터 생성(초기화) 기능 [ ]
2. 숫자들 체크하여 결과 알려주는 기능(checkGuess(Balls guessBalls) [ ]
3. 추측한게 맞는지 확인하는 기능 isGuessBallsCorrect()[ ]

### GameCommand
1. 게임 커맨드 알려주는 기능(입력값) [ ]

### GameResult
1. strike와 ball의 개수가 어떻게 되는지 알려주는 기능 [ ]

### Ball
1. Ball 생성하는 기능(숫자,위치)
    1. 숫자가 1~9인지 검증하는 기능

### Balls

1. Balls 생성 기능 ( 매개변수 List<숫자>)
    1. 길이가 3인지 검증하는기능
    2. 서로다른 수를 가지고 있는지 확인하는기능
    3. Ball을 생성하여 add 하는 기능
1. 같은 숫자 같은위치가 몇개인지 확인하는기능
2. 같은 숫자 다른 위치가 몇개인지 확인하는기능
### RandomNumberGenerator

1. List<숫자> 생성 (시작 숫자, 끝 숫자, 개수)

## View

### InputView

1. 숫자 입력
    1. 숫자를 입력해주세요 출력
    2. 입력 값 리턴
        1. 단 빈값이라면 IllegalArgumentException 발생 후 게임 종료
2. 게임 재시작 or 종료 입력
    1. 게임을 새로 시작하려면 1, 종료하려면 2를 입력하세요. 출력
    2. 입력 값 리턴
        1. 단 빈값이라면 IllegalArgumentException 발생 후 게임 종료
### OutputView

1. 결과 출력 => 결과 필요
    1. 1볼 1스트라이크 형식으로 출력
2. 게임종료 출력
    1. 3개의 숫자를 모두 맞히셨습니다! 게임 종료 출력





# 고민

#### 플레이어가 게임안에 있는 상황?
플레이어와 컴퓨터가 게임안에서 플레이하고 있는 상황으로 하는게 좋을까
아니면 플레이어와 게임기(컴퓨터)의 플레이라고 보는게 맞을까?

지금드는 생각으로는 플레이어가 상태가 없이 만들어져도 좋을까?란 생각이었는데 만드는게 맞다 생각한다. 플레이어의 행동이기때문이다. 플레이어.숫자추측(숫자)를 하게되면 이후 플레이어안에서 컴퓨터 호출?

#### 플레이어,게임이 있어야할까?

객체지향의 사실과 오해에서는 손님이 커피를 주문한다라는 메시지가 있다. 그게 꼭 있어야할까?

사람이 운전하는경우를 생각해보자 브레이크가있을텐데 그럼 사람이하는 행동이니 다 사람한테 요청해야될까?

ㄴㄴ 아니다 차한테 메시지를보내 요청하면 이를 처리해준다 만약 사람이 하는행동으로 하는거라면 사람은 모든 메서드를가지게된다 그러므로 사람은 자기가 처리할 수있는 일을하는게맞다 가령 손을 움직인다등등

숫자야구게임으로 따지면 게임이나 컴퓨터에게 숫자들을 보내 결과를 알려달라고하면된다. 만약 숫자들을 플레이어에게 넣고 거기서 하는것은 불필요한 일일 뿐이다. 왜냐하면 지나가는통로 즉 값객체 그이상그이하가 되지않기때문이다






#### 게임 종료를 어디서 할까?

1. 게임이 진행되고나서 게임이 종료됬는지 체크하고 종료됬다면 커맨드를 받아 게임 상태를 바꾼다.
2. 게임이 종료되고나서 커맨드를 받아 다시 play 메서드를 호출한다.

2번이 맞다고 생가한다. 게임이 진행되는것과 재시작,종료가 섞여있게 되면 읽기 힘들꺼라 생각이든다.


#### while하고 if문이 들어가는게 비즈니스로직일까?

1. 그럼 while,if을 안쓰면 어쩔껀데?
   일단 while문은 아니라고 생각한다. 컨트롤러는 이를 처리해줄 도메인에게 요청하게 된다. 웹으로 따지자면 들어온 요청에따라 결과를 생성해서 다시 보내주게 된다.

그러나 웹과 콘솔환경은 많이 다르다 웹은 결과를 보내주면 프론트단에서 받아 처리해서 게임을 종료시키던 게임을 계속 진행시키던 한다.

콘솔도 결과에 따라 뷰를 다시 호출하던 아니던 그런로직이 필요하다.
콘솔은 어디서해야할까? 어쩔 수 없이 어디선가해야하는데 그 처리를 컨트롤러에서 하고 있다 왜냐하면 뷰와 모델을 알고 있는것이 컨트롤러이고 뷰에 요청에 맞게 처리해줄 도메인을 호출할 책임이 있기때문이다.

위와 같은 이유로 컨트롤러에 if문 로직이 들어가도 된다 생각한다. 단 직접 값을 뽑아오는게 아닌 결과를 요청해 처리한다.




#### input에서는 유효성 검사?

공통적인것만 진행하자

각 객체들은 서로 상호작용하며 하나의 프로그램을 유기적으로 구성합니다. 그렇기에, `각 Layer에 따른 책임`의 관점에서 접근해봐도 재밌을 것 같다는 생각을 합니다.

지금 작성해둔 InputView는 1주차 미션의 야구 게임에 종속되는 것이 아닌, 다른 게임에서도 사용이 가능해야한다는 것입니다. InputView에서 "빈 문자열"이나 "잘못된 입력" 등. 어느 프로그램에 가더라도 공통적으로 검증해야할 요소만 검증하는 것이 재사용성과 객체의 관점에서 좋지 않을까? 생각하고 있습니다.

🙂 Input 내에서 다른 도메인이나 Model에 대한 Validation을 사용하고 싶다면 Validation 함수를 매개변수로 전달받아 콜백함수로 실행하는 형태로도 가능은 합니다 🙂

다만, InputView를 어디서든 재사용이 가능한 모듈 형태로 분리한다는 것과 같이, 모든 객체들은 다른 프로그램에서 사용되더라도 문제가 없이 사용이 가능하다는 것을 어느정도 전제하여, `유효성 검증 => 에러 처리`가 적절히 객체 내부에 존재하는 방식으로 작성하는 것이 좋지 않을까 생각하고 있습니다! !

#### strike와 ball은 누구한테 알려달라 메시지를 보내야할까?

숫자와 위치를 가지고 있는 것은 Ball이다 그럼 당연히 Ball에게 보내야한다.

isStrike? or hasSameNumberAndSamePosition

Balls를 get을 해서 list를 뽑는게 좋을까? ㄴㄴ 아니다

Balls.getSamePositionAndSameNumberCount(Balls ball)

Balls.hasSamePositionAndSameNumber(Ball ball)

Ball.isSamePositionAndSameNumber();

Balls가 GameResult를 알고서 만드는건 말이안된다고생각함

