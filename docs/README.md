# 1 주차 목표

- 요구사항을 정리하고, 필요한 기능 뽑아내기
- 객체별로 기능 나누기
- 객체별 구현 체크리스트 세분화하기
- 필요한 메세지들은 별도의 클래스에 상수로 빼놓기
- 기능 별 commit 하기

### 추가 목표

- 역할에 맞게 클래스 세분화
- 리팩토링
- 코드 컨벤션에 맞게 수정하기
- 매직넘버 모두 추출하기
- 객체지향적으로 잘 설계되었는 지 확인하기
    - 객체지향 생활체조 참고하기
- static 메소드, 상수들 static import 하기

---

# 요구사항 정리

### 상대방 (컴퓨터)

- 플레이어가 맞출 랜덤한 수 3개를 뽑아야 한다.
    - 각 수에는 중복이 없어야한다.
- 플레이어로 부터 입력이 들어오면, 아래와 같이 힌트를 준다.
    - 플레이어가 제시한 숫자 중, 정확한 위치에 있다면 스트라이크
    - 플레이어가 제시한 숫자 중, 정확한 위치는 아니지만, 존재한다면 볼
    - 주의할 점
        - 볼 카운트를 먼저해버리면, 스트라이크와 볼 모두 카운트된다.
            - 스트라이크의 경우, 결국 랜덤한 수에 존재하기 때문에
    - 아래의 경우에 따라 힌트를 출력한다.
        - 스트라이크만 있을 경우
        - 볼만 있을 경우
        - 볼과 스트라이크 모두 있을 경우
        - 아무것도 없을 경우

### 플레이어

- 상대방이 생각한 수를 맞추어야한다.
    - 만약 숫자가 아닌 문자가 있거나, 3글자가 아니라면 에러를 발생시킨다.
    - (추가) 만약 서로 다른 수로 이루어져있는 것이 아니라면 에러를 발생시킨다.
- 모두 맞출 경우, 게임을 다시시작하거나 종료할 수 있다.
    - 재시작: 1, 종료: 2
    - 잘못된 입력이 들어왔을 시, 에러를 발생시킨다.

---

# 필요 기능 정리

### Computer

- 중복없는 랜덤한 수 생성
- 플레이어의 입력과 비교 후 출력
- 모두 맞췄을 경우, 게임 종료

### Player

- 게임 실행
- 숫자 입력
- 재시작 / 종료 선택

### Constants

- 게임 시작 안내메시지
- 안내메시지
- 볼, 스트라이크, 낫싱
- 게임 종료 안내메시지

---

# 구현 체크리스트

### Computer

- [X] 중복없는 랜덤한 수 생성메서드
    - [X] `camp.nextstep.edu.missionutils.Randoms` 사용
- [X] 플레이어의 입력과 비교하는 메서드
- [X] 게임 종료 메서드

### Player

- [X] 게임 실행 메서드
- [X] 숫자 입력 메서드
- [X] 재시작 및 종료 선택 메서드
- [X] 잘못된 입력에 대한 예외처리

---

# 클래스 및 기능 리팩토링

### 클래스

- 입력을 담당하는 클래스
    - [X] 숫자 입력 메서드
    - [X] 옵션 입력 메서드
- 출력을 담당하는 클래스
    - [X] 안내 메시지 출력 메서드
    - [X] 에러 메시지 출력 메서드
- 예외처리를 담당하는 클래스
    - 잘못된 입력이 있을 시, 예외메시지 출력 후, 예외 발생
    - [X] 잘못된 숫자 입력 예외처리 메서드
    - [X] 잘못된 옵션 입력 예외처리 메서드

### 기능

#### Computer

- [X] compareInput 에서 게임이 끝났는 지 확인하는 메서드 추출
    - [X] compareInput 의 반환타입 void 로 변경
- [X] getResultsMessage 에서 출력까지 하기 (메서드명도 변경)

#### Player

- [X] Input 관련 메서드들 모두 추출
- [X] reset 메서드를 활용하여, 세팅 및 초기화
- [X] loop 조건 변경

---

# 객체지향 생활체조 적용하기

### 들여쓰기 최대 하나로 제한하기

- [X] Computer.strikeCounts
- [X] Computer.ballCounts
    - 두 경우 모두 BallCounts 라는 클래스를 만들어 해결했다.

### 모든 원시값과 문자열 Wrapping 하기

- [X] Player 에서 인풋 부분
    - [X] Ball 이라는 클래스를 만들고
    - [X] Ball 을 Computer 에 전달
    - [X] option 도 마찬가지고 Option 이라는 클래스 만들기

### 일급 콜렉션 사용하기

- [X] Computer.getRandomNumbers() 추출

### 엔티티 작게 유지하기

- [X] 패키지 나누기
    - client
        - 사용자와 관련된 클래스
        - Player
    - game
        - 게임과 관련된 클래스
        - Ball
        - BallCounts
        - Computer
        - Option
        - Referee
    - constants
        - 상수
        - *Constants
    - util
        - 여러 기능과 관련된 클래스
        - CountsMessage
        - ErrorDetector
        - RandomNumbersGenerator
    - view
        - Input, Output

- [X] 기능들 추출하기
    - [X] Computer 내부의 볼카운트 로직 추출

### 추가할 클래스 정리

- [X] Ball
    - Player 의 입력을 소유하고있는 Wrapper
    - Computer 의 numbers 또한 이로 대체
- [X] BallCounts
    - Computer 내부에 있던 ballCounts, strikeCounts 의 Wrapper
- [X] Referee
    - Ball 을 받았을 때, 몇 볼, 몇 스트라이크인 지 판단
- [X] BallCountMessage
    - Ball 을 받았을 때, 현재 볼카운트를 메시지로 변환
    