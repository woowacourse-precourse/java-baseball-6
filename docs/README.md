# <우아한테크코스 프리코스 1주차>

# 미션 - 숫자 야구 게임

---

## 기능 요구 사항

- [x] 1부터 9까지의 서로 다른 수로 이루어진 3자리의 수를 맞춘다.

- [x] 같은 수가 같은 자리에 있으면 스트라이크, 다른 자리에 있으면 볼, 같은 수가 존재하지 않으면 낫싱

- [x] 컴퓨터는 1부터 9까지의 서로 다른 임의의 3가지 수를 선택한다.

- [x] 위의 힌트를 이용하여 3자리 숫자를 입력하며, 컴퓨터는 입력한 숫자에 대한 결과를 표시한다.

- [x] 컴퓨터가 가진 3개의 숫자를 모두 맞히면 게임이 종료된다.

- [x] 게임이 종료되면 '3개의 숫자를 모두 맞히였습니다! 게임 종료'를 출력한다.

- [x] 게임 종료 메시지 출력 후, 1 또는 2를 입력받고, 1을 입력하면 처음부터 시작하며 2를 입력하면 종료한다.

--- 

## 기능 구현 사항

- [x] 볼의 숫자, 위치 정보를 가지는 Ball 클래스

    - record를 이용하여 구현하였습니다.
    - 다른 Ball 객체를 받아, 볼, 스트라이크를 판단합니다.


- [x] 게임 결과를 저장하는 PitchResult 클래스
    - 볼 수와, 스트라이크 수를 필드로 가집니다.
    - strike(), ball() 메서드를 통해 이 필드값을 증가시킵니다.
    - 저장된 필드값을 바탕으로 getHint() 메서드를 통해 결과 메시지를 리턴합니다.
    - isGameEnd() 메서드는 게임이 종료(스트라이크 수 = 3)되었는지를 리턴합니다.
    - 테스트를 위해 equals, hashCode를 정의하였습니다. 볼 수와 스트라이크 수가 같으면 같은 객체로 판단합니다.


- [x] Ball의 일급 컬렉션인 BallContainer 클래스

    - List<Integer>를 팩터리 메서드인 getFromNumbers에 넣어 생성합니다.
        - List<Integer>는 mapNumbersToBallList 메서드에 들어가 List<Ball>로 변환됩니다.
    - 다른 BallContainer를 받아, 3자리의 숫자를 비교한 뒤 PitchResult 객체를 리턴합니다.


- [x] 컴퓨터의 3자리 랜덤 숫자를 만드는 ComNumberGenerator 클래스

    - 결과를 저장할 List<Integer>를 필드로 가집니다.
    - generate()를 호출하면, 이 필드를 초기화한 뒤, 중복되지 않은 3자리 숫자를 리턴합니다.


- [x] 유저의 입력을 받아 List<Integer>로 매핑하는 UserNumberGenerator 클래스

    - 입력된 문자열 형식의 3자리 숫자를 검증합니다.
        - 빈 값인지, 0이 포함되었는지, 음수값인지, 3자리가 아닌 숫자인지, 중복된 숫자가 존재하는지를 검증합니다.
    - 예외가 발생되지 않으면, 이 문자열을 Stream을 이용하여 3자리 숫자 리스트로 매핑한 뒤 리턴합니다.


- [x] 게임을 실행하는 NumberBaseBall 클래스

    - 게임 실행여부에 대한 상태값인 GameStatus라는 enum을 가집니다.
    - 게임의 시작은 startGame() 메서드를 이용합니다.
        - GameStatus를 On으로 바꾸고, 컴퓨터의 숫자를 불러온 뒤, playGame()을 호출합니다.
    - playGame()은 GameStatus가 OFF가 될때까지 루프를 반복하며, 유저의 입력을 받고 숫자를 비교한 뒤, 결과를 처리합니다.
        - 컴퓨터의 숫자와, 유저의 숫자를 이용하여 각각 BallContainer 객체를 만든 뒤, 이를 비교한 결과를 executeByResult에 넣습니다.
    - executeByResult는, 입력된 PitchResult 객체의 isGameEnd()를 호출하여, 게임이 종료되었다면 종료 메시지를 출력하고, questIfRestart()를 호출합니다.
    - questIfRestart()는 재시작 여부를 묻고, 이 값을 검증하여 1, 2가 아니면 예외를 발생시킵니다.
        - 값이 1(재시작)인 경우 컴퓨터의 숫자만 초기화합니다.
        - 값이 2(종료 - 1이 아닌 경우)인 경우 GameStatus를 OFF로 전환하여 playGame()의 루프를 종료시킵니다.
            - playGame()의 루프가 종료되면, 자동으로 프로그램이 종료됩니다.

---

## 테스트 구현 사항

- [x] 주어진 ApplicationTest : 통과


- [x] BallTest
    - Ball 클래스의 isStrike, isBall에 대한 검증을 진행합니다.
    - isBall에 대해선, 가능한 모든 위치값을 넣어 확인합니다.


- [x] BallContainerTest
    - 숫자 리스트를 넣고, 이를 정확히 Ball 리스트로 매핑하는지 확인합니다.
    - 모든 가능한 결과(3스트라이크,2스트라이크,...)를 넣고, 이 결과를 pitch 메서드가 정확히 리턴하는지 확인합니다.


- [x] ComNumberGeneratorTest
    - 랜덤값은 주어진 라이브러리를 이용하기에, 1부터 9 사이의 숫자인지에 대한 검증은 하지 않습니다.
    - 중복이 들어가는 숫자들을 넣고, generate() 메서드가 이 중복을 걸러낸 숫자 리스트를 리턴하는지 확인합니다.


- [x] UserNumberGeneratorTest
    - 숫자를 입력받을 때, '숫자를 입력하세요' 라고 지정하였기에 기본적으로는 숫자가 들어간다고 가정합니다.
        - 문자를 입력하는 경우, NumberFormatException이 발생하고 종료되므로, 이에 대한 예외처리를 하지 않았습니다.
    - 잘못된 형식의 숫자를 넣고, 각 형식에 알맞은 예외 메시지를 정확히 리턴하는지 확인합니다.


- [x] PitchResultTest
    - 모든 가능한 경우에 대해 볼 수, 스트라이크 수를 지정하여 PitchResult 객체를 만든 뒤, getHint()가 정확한 결과 메시지를 리턴하는지 확인합니다.


- [x] NumberBaseballTest

    - 전반적으로, ApplicationTest와 큰 차이는 없으나, 테스트 범위를 늘려 테스트를 진행하였습니다.
    - 게임을 총 3번 진행하며 가능한 모든 결과에 대해 테스트합니다. 숫자는 모든 결과를 다 가지도록 임의 설정하였습니다.
    - 다음은, 잘못된 입력을 하였을 때, 해당되는 예외 메시지를 출력하며 게임이 종료되는지를 확인합니다.
      