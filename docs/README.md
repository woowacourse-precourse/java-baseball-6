# 🥎숫자 야구⚾️

1부터 9까지의 서로 다른 수로 이루어진 3자리의 수를 맞추는 게임
<br>
<br>

## 시나리오

제공된 기능 요구사항을 바탕으로 한 시나리오
<br>

**1️⃣ 숫자 야구 게임의 시작을 위한 문구 출럭**

```
숫자 야구 게임을 시작합니다.
숫자를 입력해주세요 :
```

<br>
<br>

**2️⃣ 컴퓨터(상대방) -> 1에서 9까지 서로 다른 임의의 수 3개 선택**
<br>
<br>

**3️⃣ 플레이어 -> 컴퓨터의 수를 예측하여 서로 다른 3자리의 수 입력**

- [E1] 입력한 수가 중복되는 경우
- [E2] 수가 3자리 미만 또는 초과되는 경우
- [E3] 숫자의 범위가 1~9를 벗어나는 경우(수가 아닌 값 입력하는 경우도 포함)
  <br>
  <br>

**4️⃣ 컴퓨터와 플레이어의 수를 비교해 그 결과를 출력**

- [Output] 스트라이크 : 같은 수가 같은 자리에 있는 경우
- [Output] 볼 : 같은 수가 다른 자리에 있는 경우
- [Output] 낫싱 : 같은 수가 전혀 없는 경우
  <br>
  <br>

**5️⃣ 현재 숫자 야구 게임 종료 및 게임 재시작 여부를 묻는 문구 출력**

- 3스트라이크 충족 시 출력
  ```
  3스트라이크
  3개의 숫자를 모두 맞히셨습니다! 게임 종료
  게임을 새로 시작하려면 1, 종료하려면 2를 입력하세요.
  ```
- 3스트라이크 미충족 시 3️⃣~ 4️⃣ 번으로 돌아가 시나리오 반복
    - [Caution] 3스트라이크를 충족할 때까지 반복해야 한다.
      <br>
      <br>

**6️⃣ 숫자 야구 게임의 재시작 or 종료(Complete Shutdown)**

- 플레이어의 입력 값에 의해 결정된다.
- 1을 입력한 경우 -> 게임 재시작(New)
- 2를 입력한 경우 -> 게임 종료 및 프로그램의 종료

<br>
<br>
<br>

## 기능 목록

모든 명명 규칙은 Camel Case에 의해 '첫 단어를 소문자, 그 다음 단어부터 대문자'를 통해 작성되었습니다.

```🌱 Domain```

- Computer ✔️
    - 컴퓨터(상대방)의 숫자 설정 관련 담당
- Player ✔️
    - 플레이어의 숫자를 설정 관련 담당
      <br>
      <br>

```🌱 Controller```

- BaseballGameController ✔️
    - 숫자 야구 게임의 전체 play 결정 담당
        - '컴퓨터의 숫자'와 'View를 통해 가져온 플레이어의 입력 숫자'를 비교한다.
        - 게임을 종료한 경우, 다음 게임 Replay or Quit 실행하는 것을 결정한다.
        - 이 곳에서는 요청에 따른 결정만 진행하며, 실제 처리는 Sevice에서 진행된다.
          <br>
          <br>

```🌱 Util```
<br>

- ComputerNumberGenerator ✔️
    - 숫자 야구 게임의 컴퓨터(상대방) 랜덤 숫자 생성 담당
        - 플레이어가 랜덤 숫자를 생각해 고르는 것처럼, 컴퓨터의 랜덤 숫자를 생성한다.

- StringToArrayList ✔️
    - String 숫자의 ArrayList 변환 담당
        - String 형태로 입력되어 들어오는 숫자를 ArrayList 형태로 변환하여 1~9의 숫자를 정확히 파악한다.
          <br>
          <br>

```🌱 Service```

- GameFlowManagementService ✔️
    - 숫자 야구 게임의 흐름 및 다음 게임의 'Replay or Quit' question 담당

- GameNumberCheckService ✔️
    - 컴퓨터와 플레이어의 숫자 비교 담당
        - '스트라이크, 볼'을 카운트
          <br>
          <br>

```🌱 View```

- GamePlayerInputView ✔️
    - 플레이어의 숫자 입력 처리 담당
        - 플레이어의 입력을 실제로 받고, 입력을 save한다.
        - 이전 게임 종료 후, 다음에 이어지는 게임에서의 플레이어의 입력도 이전과 동일하므로 view를 합친다.

- GameScoreView ✔️
    - 숫자 야구 게임의 플레이 상황에 따른 적절한 결과 출력 담당
        - 게임 정상 종료 후, 게임의 결과와 Replay or Quit 여부를 출력한다.
  ```
  1볼 1스트라이크
  ```

  ```
  낫싱
  ```

  ```
  3스트라이크
  3개의 숫자를 모두 맞히셨습니다! 게임 종료
  ```

  ```
  숫자 야구 게임을 시작합니다.
  ```

  ```
  게임을 새로 시작하려면 1, 종료하려면 2를 입력하세요.
  ```

<br>
<br>

```🌱 Exception```

- PlayerInputException ✔️
    - 숫자 야구 게임을 위해 플레이어가 입력한 값에 대한 예외 처리 담당
        - 숫자의 중복 여부를 체크한다.
        - 숫자의 입력 개수를 체크한다.
            - 개수의 미만, 초과 발생
        - 숫자의 범위(1~9) 초과 여부를 체크한다.
            - 문자, 특수문자 등 숫자를 제외한 입력을 할 경우도 포함
              <br>


- ReplayOrQuitGameException ✔️
    - 앞선 숫자 야구 게임의 종료 후, Replay or Quit을 위해 플레이어가 입력하는 값에 대한 예외 처리 담당
        - "게임을 새로 시작하려면 1, 종료하려면 2를 입력하세요."의 답변에서의 예외를 처리한다.
            - 숫자의 종류가 1,2가 아닌 경우와 문자를 입력한 경우 체크
            - 숫자를 여러 개 입력한 경우 체크

---

## 궁금했어요

**개발하면서 궁금했던 부분들에 대한 정리**
<br>
<br>
<br>

### 🧐 Util 패키지를 사용해야하는 이유

- 우테코 이전 -> Util의 사용 이유에 대해 고민하지 않고, 코드의 집합소처럼 사용
- [넌 지금 전혀 util 하고 있지 않아.](https://kong-dev.tistory.com/229)라는 글을 접하여 고민해보게 됨.
- 숫자 야구 게임에서의 '플레이어가 입력하는 행위와 크게 상관없는 로직'은 무엇일까 고민하는 과정을 거침.
    - 컴퓨터 자체의 랜덤 숫자 생성 과정
    - 문자열 형태로 입력받은 숫자를 1개씩 인식할 수 있도록 변환하는 과정
- 위의 2가지는 어찌보면 상대방 역할은 컴퓨터가 알아서 해야하는 것이기 때문에 다른 기능과 붙여놓을 필요가 없다는 판단을 하게 됨.
  <br>

### ↕️ 패키지의 순서를 개발한 순서에 맞게 배치하고 싶은데 방법이 없을까?

- IntelliJ IDEA의 패키지 배치 순서는 기본적으로 알파벳의 순서를 통해 결정됨.
- 그 외에도 흔히 알고 있는 정렬 기준에 따라 숫자와 대소문자, 특수문자 등에 의해 순서가 정렬됨.
- IntelliJ IDEA 내부의 설정에서 커스터마이징이 가능할 것으로 보이나, 아직은 해결점을 찾지 못함.

---

## 배웠어요

**개발을 진행하며 겪었던 문제들의 트러블슈팅을 velog에 정리**
<br>

미션의 내용과 직접적으로 관련된 내용이 있을 경우 👀를 받을 수 있으니 비공개로 글을 올렸습니다(23.10.22 기준)<br>
미션이 끝난 후 공개로
업로드될 [velog의 🪐우아한테크코스 6기 시리즈](https://velog.io/@dlgkdis801/series/%EC%9A%B0%EC%95%84%ED%95%9C%ED%85%8C%ED%81%AC%EC%BD%94%EC%8A%A4-6%EA%B8%B0)
의 첫 게시물을 참고해주세요!
<br>
<br>
<br>

### 🫠 IntelliJ IDEA에서 나의 실제 Github 계정이 연결되지 않은 채로 commit을 한 문제

- 상세 내용
  : IntelliJ IDEA에서 Commit과 Push가 이뤄지긴 했으나, ```missing default github account``` 오류 발생
  <br>

- 해결 방법
  : IntelliJ IDEA의 ```Settings... > Version Control > Github```에서 계정 확인
  : 기존에 뜨던 Github 계정을 ➖ 기호로 지우고 다시 Token을 사용하여 로그인
  (발급한 토큰은 인텔리제이에 붙여넣기 하면 됨)
  계정 선택 후 ✔️까지 확실히 해주어야 함.
  <br>
  <br>

### 😫 commit한 기록을 삭제해야하는 상황이 발생해, IntelliJ에서 "RESET"을 hard로 진행했으나 삭제되지 않는 현상

- 상세 내용
  : **push 하지 않은 commit**을 IntelliJ에서 삭제하기 위해 IntelliJ IDEA의 Git 기능을 이용해 reset을 했지만, commit 기록이 여전히 남아있는 경우였음.

- 해결 방법
  : 1. 우선 Reset 진행 _ 삭제를 원하는 commit의 마우스 오른쪽을 눌러 ```Reset Current Branch to Here... > reset 강도 선택 > Reset 클릭```
  <br> 2. IntelliJ의 Terminal에서 진행 _ ```git log --oneline```으로 commit 기록 확인 -> 삭제되지 않은 이유는, HEAD로 설정되어 있기 때문일 가능성이 높음.
  <br> 3. ```git reset --hard HEAD~{순서}```를 입력해주면, HEAD가 이전 commit으로 돌아감.
  <br>
  <br>

### 🌱Fork한 레포지터리에 commit을 진행해도 잔디가 심어지지 않는다...?

- 상세 내용
  : fork한 레포지터리에 열심히 commit하고 push를 하고 있다가 확인해보니 잔디 탈모 현상이 발견됨.

- 해결 방법
  : 함께 나누기의 [BE]최승준님 글에서 해결점 발견! ```Mirror Push```가 해결법!<br>
  <br> 1. commit을 복사할 개인 레포지터리 생성<br>
  <br> 2. **fork해서 작업 중이던 레포지터리**의 url 복사<br>
  <br> 3. 로컬 환경에 bare clone<br>
  ```git clone --bare https://github.com/깃허브ID/레포지터리명.git``` <br>
  <br> 4. Mirror push 진행<br>
  ```$ cd forkedRepository.git``` <br>
  ```$ git push --mirror https://github.com/깃허브ID/위에서 새롭게 생성했던 레포지터리.git``` <br>
  <br> 5. 그래도 잔디가 안보인다면, default branch 변경하기


