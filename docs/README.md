# [⚾︎ 미션 - 숫자 야구](https://github.com/coenfflOo/java-baseball-6/blob/main/docs/README.md)

## 👀 문제 확인하기

- 우아한테크코스 1주차 과제 중 '**숫자 야구**'의 구현 기능과 구현 로직을 담은 문서입니다.
- 문제는[여기](https://github.com/woowacourse-precourse/java-baseball-6)에서 확인해 주세요.

---

## 🔥 1주차 목표

- 요구사항 파악하고, 필요한 기능 정리하기
- 클래스별로 기능 나누기
- 객체별 구현 체크리스트 구성하기
- 상수 적극 활용하기
- 기능 구현 별 commit하기

### 추가 목표

- 최대한 기능을 나누어 메소드 구현
- 커밋 컨벤션에 맞게 commit 해보기
- 기능별로 패키지 나누어서 구현해보기
- 기능 별로 깔끔하게 리팩토링도 해보기

---

## 📝 요구사항 정리

### **상대방 (컴퓨터)**

- 플레이어가 맞출 랜덤한 수 3개를 뽑아야 한다.
    - 1부터 9까지의 수
    - 각 수에는 중복이 없어야한다.
- 플레이어로 부터 입력이 들어오면, 아래와 같이 힌트를 준다.
    - 플레이어가 제시한 숫자 중, 같은 수가 같은 자리에 있으면 스트라이크
    - 플레이어가 제시한 숫자 중, 같은 수가 다른 자리에 있으면 볼
    - 플레이어가 제시한 숫자 중, 같은 수가 전혀 없으면 낫싱
    - 주의할 점
        - 볼 카운트에 스트라이크가 포함되지 않도록 한다.
    - 아래의 경우에 따라 힌트를 출력한다.
        - 스트라이크만 있을 경우
        - 볼만 있을 경우
        - 아무것도 없을 경우
        - 볼과 스트라이크 모두 있을 경우

### **플레이어**

- 상대방(컴퓨터)이 생각한 수를 맞추어야한다.
    - 만약 숫자가 아닌 문자가 있거나, 3글자가 아니라면 에러를 발생시킨다.
- 모두 맞출 경우, 게임을 다시시작하거나 종료할 수 있다.
    - 재시작: 1, 종료: 2
    - 잘못된 입력이 들어왔을 시, IllegalArgumentException 에러를 발생시킨다.

---

## 🌟 구현 기능 목록

### ✔ 게임 제어 기능 (메인)

- 첫 실행 시 컴퓨터의 수가 생성되면서 시작한다.
    - `camp.nextstep.edu.missionutils.Randoms` 사용
- 게임 진행 여부를 결정지을 변수를 초기화한다.
- 게임 시작 메시지를 출력하도록 제어 후, 게임을 시작한다.
    - 사용자로부터 입력받은 값은 리스트에 저장된다.
- 게임 진행 시 컴퓨터의 수와 사용자의 수를 비교하여 볼, 스트라이크 수를 카운트 후 출력한다.
    - 아래의 컴퓨터 / 사용자 수 비교 기능
- 첫 게임 종료 후 사용자의 입력값에 따라 게임 실행을 제어한다.
    - 사용자가 1번을 입력했을 경우 게임을 재시작한다.
    - 사용자가 2번을 입력했을 경우 게임을 종료한다.

### ✔ 컴퓨터 / 사용자 수 비교 기능

- 컴퓨터와 사용자의 수를 비교하여 볼, 스트라이크의 수를 리턴한다.
    - 반복문으로 플레이어가 입력한 수 리스트와 상대방(컴퓨터)이 입력한 수 리스트의 요소가 일치하면 스트라이크 카운트를 증가시켜 반환
        - 스트라이크 카운트가 3이 되면 게임 종료 여부를 결정하는 변수를 바꾼 뒤 카운트 반환
    - 반복문으로 플레이어가 입력한 수 리스트와 상대방(컴퓨터)이 입력한 수 리스트의 요소가 일치하진 않지만, 플레이어가 입력한 수 리스트의 요소가 상대방(컴퓨터)이 입력한 수 리스트에 포함되면 볼 카운트를
      증가시켜 반환

### ✔ 사용자로부터 값을 입력받는 기능

- `camp.nextstep.edu.missionutils.Console`의`readLine()` 사용
- 사용자로부터 서로 다른 3자리의 수를 입력받는다.
    - 예외 검증 후
    - 입력받은 문자열을 정수형 리스트로 변환하여 반환한다.
- 게임이 끝난 경우 재시작과 종료를 구분하는 수를 입력받는다.
    - 예외 검증을 하고 정수형으로 반환한다.

### ✔ 메시지 출력 기능

- 게임 진행 시 출력되는 메시지를 관리한다.
    - 첫 게임 시작 시`숫자 야구 게임을 시작합니다`를 출력한다.
    - 게임 진행 시`숫자를 입력해주세요 :` 를 출력한다.
    - 사용자가 숫자를 입력한 이후, 볼 / 스트라이크 개수에 따른 결과 메시지를 출력한다.
        - `x볼`,`y스트라이크`,`x볼 y스트라이크`순으로 출력한다.
        - 만약 둘 다 0개라면`낫싱`을 출력한다.
    - 사용자가 숫자를 모두 맞혔을 경우 2개의 메시지를 출력한다.
        - `3개의 숫자를 모두 맞히셨습니다! 게임 종료`
        - `게임을 새로 시작하려면 1, 종료하려면 2를 입력하세요.`

### ✔ 게임에 필요한 상수 클래스

- 컴퓨터가 게임에서 사용할 수나 문구를 상수로 지정한다.

### ✔ 컴퓨터의 랜덤 숫자 생성 기능

- 컴퓨터가 게임에서 사용할 수를 생성한다.
    - 1~9 사이의 서로 다른 숫자를 가진 3글자의 랜덤한 수를 생성하여 리스트에 담는다.

### ✔ 예외 처리

- 사용자가 입력한 수에 대해 검증을 진행한다. 다음의 경우`IllegalArgumentException`을 발생시킨다.
    - 플레이어의 숫자 입력받기
        - 숫자가 입력되지 않으면 `[ERROR] 숫자를 입력하세요.`를 출력한다.
            - import java.util.regex.Pattern
            - 정규식 표현
        - 숫자 3개가 입력되지 않으면`[ERROR] 숫자를 3개 입력하세요.`를 출력한다.
        - 중복된 숫자를 입력받으면`[ERROR] 서로 다른 숫자 3개를 입력하세요.`를 출력한다.
        - 입력받은 숫자가 1 ~ 9 사이가 아니면`[ERROR] 1 ~ 9 사이의 숫자를 입력하세요.`를 출력한다.
    - 게임 종료 숫자 입력받기
        - 숫자가 입력되지 않으면`[ERROR] 숫자를 입력하세요.`를 출력한다.
        - 숫자 1개가 입력되지 않으면`[ERROR] 숫자를 1개 입력하세요.`를 출력한다.
        - 입력받은 숫자가 1 또는 2가 아니면`[ERROR] 1 또는 2를 입력하세요.`를 출력한다.

---

## 💡 구현 로직

```
1. 게임 시작 시 '숫자 야구 게임을 시작합니다.'를 출력한다.

2. 게임이 시작되면 컴퓨터는 3글자의 수를 만들어낸다.

3. 재실행을 고려하여 게임 진행 여부를 결정하는 변수를 초기화한다.

3. '숫자를 입력해주세요: ' 메시지 출력 후, 사용자에게 숫자를 입력받아 리스트로 저장한다.
    3-1. 사용자의 입력값이 숫자인지 검증한다.
		3-2. 사용자의 입력값이 길이가 3자리인지 검증한다.
	    3-2-1. 사용자의 입력값의 각 자리수가 1~9 사이의 숫자인지 검증한다.
    3-3. 사용자의 입력값의 각 자리수에 중복된 값이 들어있는지 검증한다.

4. 사용자와 컴퓨터의 수를 비교해서 볼, 스트라이크 개수를 계산한다.
    4-1. 계산 후 사용자에게 결과값을 출력한다.

5. 만약 스트라이크 수가 3개라면 '3개의 숫자를 모두 맞히셨습니다! 게임 종료'를 출력한다.

6. '게임을 새로 시작하려면 1, 종료하려면 2를 입력하세요.'를 출력 후 사용자에게 값을 입력받는다.
		6-1. 사용자의 입력값의 유효성을 검증한다.
			6-1-1. 사용자의 입력값이 숫자인지 검증한다.
			6-1-2. 사용자의 입력값이 길이가 1자리인지 검증한다.
			6-1-3. 사용자가 1 혹은 2를 입력했는지 검증한다.
    6-2. 만약 1을 입력했다면 2~5번의 과정을 반복한다.
    6-3. 만약 2를 입력했다면 그대로 게임을 종료한다.

```

